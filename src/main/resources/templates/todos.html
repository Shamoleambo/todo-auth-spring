<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Todo List</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>

<body>
	<div class="container">
		<h2 class="mt-4">Todo List</h2>
		<form th:action="@{/todos}" method="POST">
			<div class="form-group">
				<label for="title">New Todo:</label>
				<input type="text" id="title" name="title" class="form-control" required>
			</div>
			<button type="submit" class="btn btn-primary">Add Todo</button>
		</form>

		<ul class="list-group mt-4">
			<li class="list-group-item" th:each="todo: ${todos}">
				<span th:text="${todo.title}"></span>
				<span th:if="${todo.completed}" class="badge badge-success">Completed</span>
				<span th:unless="${todo.completed}" class="badge badge-warning">Pending</span>
				<form th:action="@{/todos/{id}/complete(id=${todo.id})}" method="POST" th:if="${!todo.completed}"
					style="display:inline;">
					<button type="submit" class="btn btn-sm btn-success">Completed</button>
				</form>
			</li>
		</ul>
	</div>
</body>

</html>